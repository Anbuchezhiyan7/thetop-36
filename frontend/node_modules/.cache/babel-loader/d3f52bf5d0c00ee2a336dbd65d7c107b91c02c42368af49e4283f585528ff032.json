{"ast":null,"code":"import _objectSpread from\"C:/Users/Gayathri/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{Container,Grid,Paper,Typography,Button,Box,CircularProgress,Alert,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Dialog,DialogTitle,DialogContent,DialogActions,Chip,Tooltip,IconButton,Stepper,Step,StepLabel,StepContent,Divider,Menu,MenuItem,ListItemIcon,ListItemText,TextField}from\"@mui/material\";import{styled}from\"@mui/material/styles\";import Confetti from\"react-confetti\";import InfoIcon from\"@mui/icons-material/Info\";import CheckCircleIcon from\"@mui/icons-material/CheckCircle\";import CancelIcon from\"@mui/icons-material/Cancel\";import EmojiEventsIcon from\"@mui/icons-material/EmojiEvents\";import LocalShippingIcon from\"@mui/icons-material/LocalShipping\";import MoreVertIcon from\"@mui/icons-material/MoreVert\";import EditIcon from\"@mui/icons-material/Edit\";import AccessTimeIcon from\"@mui/icons-material/AccessTime\";import DeleteIcon from\"@mui/icons-material/Delete\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StyledPaper=styled(Paper)(_ref=>{let{theme}=_ref;return{padding:theme.spacing(4),marginTop:theme.spacing(4),borderRadius:8,boxShadow:\"0 4px 6px rgba(0, 0, 0, 0.1)\"};});const WinnerDialog=styled(Dialog)(_ref2=>{let{theme}=_ref2;return{\"& .MuiDialog-paper\":{borderRadius:8,padding:theme.spacing(2),maxWidth:600}};});const EligibilityChip=styled(Chip)(_ref3=>{let{theme,eligible}=_ref3;return{backgroundColor:eligible?theme.palette.success.main:theme.palette.error.main,color:\"white\"};});const steps=[{label:\"Check Eligibility\",description:\"Verifying user eligibility and prize status\"},{label:\"Select Winner\",description:\"Randomly selecting a winner from eligible users\"},{label:\"Update Prize Status\",description:\"Updating prize status and winner information\"}];const ActionButton=styled(Button)(_ref4=>{let{theme}=_ref4;return{minWidth:\"120px\"};});const PrizeImage=styled(\"img\")({width:60,height:60,objectFit:\"cover\",borderRadius:4,marginRight:16});const PrizeCell=styled(TableCell)({display:\"flex\",alignItems:\"center\",padding:\"8px 16px\"});function RaffleEngine(){const[prizes,setPrizes]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedPrize,setSelectedPrize]=useState(null);const[winner,setWinner]=useState(null);const[showConfetti,setShowConfetti]=useState(false);const[openDialog,setOpenDialog]=useState(false);const[showEligibilityInfo,setShowEligibilityInfo]=useState(false);const[activeStep,setActiveStep]=useState(-1);const[drawingWinner,setDrawingWinner]=useState(false);const[anchorEl,setAnchorEl]=useState(null);const[selectedPrizeForMenu,setSelectedPrizeForMenu]=useState(null);const[editMode,setEditMode]=useState(false);const[editingPrize,setEditingPrize]=useState(null);useEffect(()=>{fetchPrizes();},[]);const fetchPrizes=async()=>{try{const response=await fetch(\"http://localhost:5000/api/prizes\");const data=await response.json();setPrizes(data);setLoading(false);}catch(error){setError(\"Failed to fetch prizes\");setLoading(false);}};const handleDrawWinner=async prize=>{setSelectedPrize(prize);setDrawingWinner(true);setActiveStep(0);setError(null);try{// Step 1: Check Eligibility\nawait new Promise(resolve=>setTimeout(resolve,1000));setActiveStep(1);// Step 2: Select Winner\nconst response=await fetch(\"http://localhost:5000/api/raffle/draw/\".concat(prize.id),{method:\"POST\"});const data=await response.json();if(data.message===\"No eligible users for raffle\"){setError(\"No eligible users found for this raffle\");setDrawingWinner(false);setActiveStep(-1);return;}await new Promise(resolve=>setTimeout(resolve,1000));setActiveStep(2);// Step 3: Update Status\nsetWinner(data.winner);setShowConfetti(true);setOpenDialog(true);setTimeout(()=>setShowConfetti(false),5000);fetchPrizes();// Refresh prize list\n}catch(error){setError(\"Failed to draw winner\");}setDrawingWinner(false);setActiveStep(-1);};const handleCloseDialog=()=>{setOpenDialog(false);setWinner(null);};const getEligibilityStatus=prize=>{if(prize.winner)return{eligible:false,reason:\"Winner already drawn\"};if(prize.status!==\"active\")return{eligible:false,reason:\"Prize not active\"};return{eligible:true,reason:\"Eligible for raffle\"};};const handleMenuClick=(event,prize)=>{setAnchorEl(event.currentTarget);setSelectedPrizeForMenu(prize);};const handleMenuClose=()=>{setAnchorEl(null);setSelectedPrizeForMenu(null);};const handleStatusChange=async newStatus=>{try{const response=await fetch(\"http://localhost:5000/api/prizes/\".concat(selectedPrizeForMenu.id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_objectSpread(_objectSpread({},selectedPrizeForMenu),{},{status:newStatus}))});const data=await response.json();setPrizes(prizes.map(p=>p.id===data.id?data:p));handleMenuClose();}catch(error){setError(\"Failed to update prize status\");}};const handleShippingUpdate=async()=>{try{const response=await fetch(\"http://localhost:5000/api/prizes/\".concat(selectedPrizeForMenu.id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_objectSpread(_objectSpread({},selectedPrizeForMenu),{},{shipped:!selectedPrizeForMenu.shipped}))});const data=await response.json();setPrizes(prizes.map(p=>p.id===data.id?data:p));handleMenuClose();}catch(error){setError(\"Failed to update shipping status\");}};const handleEditClick=prize=>{setEditingPrize(prize);setEditMode(true);handleMenuClose();};const handleEditSubmit=async()=>{try{const response=await fetch(\"http://localhost:5000/api/prizes/\".concat(editingPrize.id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(editingPrize)});const data=await response.json();setPrizes(prizes.map(p=>p.id===data.id?data:p));setEditMode(false);setEditingPrize(null);}catch(error){setError(\"Failed to update prize\");}};if(loading){return/*#__PURE__*/_jsx(Container,{maxWidth:\"lg\",sx:{py:4},children:/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"60vh\",children:/*#__PURE__*/_jsx(CircularProgress,{})})});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{py:4},children:[showConfetti&&/*#__PURE__*/_jsx(Confetti,{}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",children:\"Raffle Engine\"}),/*#__PURE__*/_jsx(Tooltip,{title:\"Eligibility Requirements\",children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setShowEligibilityInfo(true),children:/*#__PURE__*/_jsx(InfoIcon,{})})})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:4},onClose:()=>setError(null),children:error}),/*#__PURE__*/_jsxs(Alert,{severity:\"info\",sx:{mb:4},children:[\"To be eligible for raffles, users must:\",/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Be enrolled in partner platforms for at least 45 days\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Not have opted out of partner platforms\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Have an active enrollment status\"})]})]}),/*#__PURE__*/_jsx(StyledPaper,{children:/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Prize\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Winner\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Fulfillment\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Eligibility\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:prizes.map(prize=>{const eligibility=getEligibilityStatus(prize);return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsxs(PrizeCell,{children:[/*#__PURE__*/_jsx(PrizeImage,{src:prize.image,alt:prize.title}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:prize.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",children:[\"$\",prize.retailPrice,\" Retail\"]})]})]}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:prize.status,color:prize.status===\"active\"?\"success\":prize.status===\"upcoming\"?\"warning\":\"default\",size:\"small\"})}),/*#__PURE__*/_jsx(TableCell,{children:prize.winner?/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(EmojiEventsIcon,{}),label:prize.winner,color:\"secondary\",size:\"small\"}):\"Pending\"}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{icon:prize.shipped?/*#__PURE__*/_jsx(CheckCircleIcon,{}):/*#__PURE__*/_jsx(CancelIcon,{}),label:prize.shipped?\"Shipped\":\"Pending\",color:prize.shipped?\"success\":\"default\",size:\"small\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(EligibilityChip,{label:eligibility.reason,eligible:eligibility.eligible,size:\"small\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",gap:1},children:[/*#__PURE__*/_jsx(ActionButton,{variant:\"contained\",color:\"secondary\",onClick:()=>handleDrawWinner(prize),disabled:!eligibility.eligible||drawingWinner,startIcon:drawingWinner&&(selectedPrize===null||selectedPrize===void 0?void 0:selectedPrize.id)===prize.id?/*#__PURE__*/_jsx(CircularProgress,{size:20,color:\"inherit\"}):null,children:drawingWinner&&(selectedPrize===null||selectedPrize===void 0?void 0:selectedPrize.id)===prize.id?\"Drawing...\":\"Draw Winner\"}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:e=>handleMenuClick(e,prize),children:/*#__PURE__*/_jsx(MoreVertIcon,{})})]})})]},prize.id);})})]})})}),/*#__PURE__*/_jsxs(Menu,{anchorEl:anchorEl,open:Boolean(anchorEl),onClose:handleMenuClose,children:[/*#__PURE__*/_jsxs(MenuItem,{onClick:()=>handleEditClick(selectedPrizeForMenu),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(EditIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Edit Prize\"})]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:()=>handleStatusChange(\"active\"),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(CheckCircleIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Set Active\"})]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:()=>handleStatusChange(\"upcoming\"),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(AccessTimeIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Set Upcoming\"})]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:()=>handleStatusChange(\"completed\"),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(EmojiEventsIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Set Completed\"})]}),(selectedPrizeForMenu===null||selectedPrizeForMenu===void 0?void 0:selectedPrizeForMenu.winner)&&/*#__PURE__*/_jsxs(MenuItem,{onClick:handleShippingUpdate,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(LocalShippingIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:selectedPrizeForMenu.shipped?\"Mark as Pending\":\"Mark as Shipped\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:editMode,onClose:()=>setEditMode(false),children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Edit Prize\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",label:\"Prize Title\",type:\"text\",fullWidth:true,value:(editingPrize===null||editingPrize===void 0?void 0:editingPrize.title)||\"\",onChange:e=>setEditingPrize(_objectSpread(_objectSpread({},editingPrize),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(TextField,{margin:\"dense\",label:\"Retail Price\",type:\"number\",fullWidth:true,value:(editingPrize===null||editingPrize===void 0?void 0:editingPrize.retailPrice)||\"\",onChange:e=>setEditingPrize(_objectSpread(_objectSpread({},editingPrize),{},{retailPrice:e.target.value}))}),/*#__PURE__*/_jsx(TextField,{margin:\"dense\",label:\"Bulk Cost\",type:\"number\",fullWidth:true,value:(editingPrize===null||editingPrize===void 0?void 0:editingPrize.bulkCost)||\"\",onChange:e=>setEditingPrize(_objectSpread(_objectSpread({},editingPrize),{},{bulkCost:e.target.value}))}),/*#__PURE__*/_jsx(TextField,{margin:\"dense\",label:\"Image URL\",type:\"text\",fullWidth:true,value:(editingPrize===null||editingPrize===void 0?void 0:editingPrize.image)||\"\",onChange:e=>setEditingPrize(_objectSpread(_objectSpread({},editingPrize),{},{image:e.target.value}))}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Status\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",gap:1},children:[/*#__PURE__*/_jsx(Button,{variant:(editingPrize===null||editingPrize===void 0?void 0:editingPrize.status)===\"active\"?\"contained\":\"outlined\",size:\"small\",onClick:()=>setEditingPrize(_objectSpread(_objectSpread({},editingPrize),{},{status:\"active\"})),children:\"Active\"}),/*#__PURE__*/_jsx(Button,{variant:(editingPrize===null||editingPrize===void 0?void 0:editingPrize.status)===\"upcoming\"?\"contained\":\"outlined\",size:\"small\",onClick:()=>setEditingPrize(_objectSpread(_objectSpread({},editingPrize),{},{status:\"upcoming\"})),children:\"Upcoming\"}),/*#__PURE__*/_jsx(Button,{variant:(editingPrize===null||editingPrize===void 0?void 0:editingPrize.status)===\"completed\"?\"contained\":\"outlined\",size:\"small\",onClick:()=>setEditingPrize(_objectSpread(_objectSpread({},editingPrize),{},{status:\"completed\"})),children:\"Completed\"})]})]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setEditMode(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleEditSubmit,color:\"secondary\",children:\"Save Changes\"})]})]}),/*#__PURE__*/_jsxs(WinnerDialog,{open:openDialog,onClose:handleCloseDialog,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(EmojiEventsIcon,{color:\"secondary\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Winner Drawn!\"})]})}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Prize Details\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",gutterBottom:true,children:selectedPrize===null||selectedPrize===void 0?void 0:selectedPrize.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Retail Value: $\",selectedPrize===null||selectedPrize===void 0?void 0:selectedPrize.retailPrice]})]}),/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Winner Information\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",gutterBottom:true,children:winner===null||winner===void 0?void 0:winner.email}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Enrolled on: \",new Date(winner===null||winner===void 0?void 0:winner.enrolledOn).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(Alert,{severity:\"info\",sx:{mt:2},children:\"The winner will be notified via email. Please ensure the prize is shipped within 7 business days.\"})]}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:handleCloseDialog,color:\"secondary\",children:\"Close\"})})]}),/*#__PURE__*/_jsxs(Dialog,{open:showEligibilityInfo,onClose:()=>setShowEligibilityInfo(false),children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Raffle Eligibility Requirements\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",paragraph:true,children:\"To participate in raffles, users must meet the following criteria:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Must be enrolled in partner platforms for at least 45 days\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Must not have opted out of partner platforms\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Must have an active enrollment status\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Prize must be in \\\"active\\\" status\"}),/*#__PURE__*/_jsx(\"li\",{children:\"No previous winner for the prize\"})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mt:2},children:\"Note: The system automatically checks eligibility before drawing winners.\"})]}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowEligibilityInfo(false),color:\"secondary\",children:\"Close\"})})]}),drawingWinner&&/*#__PURE__*/_jsx(Dialog,{open:drawingWinner,maxWidth:\"sm\",fullWidth:true,children:/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,align:\"center\",children:\"Drawing Winner\"}),/*#__PURE__*/_jsx(Stepper,{activeStep:activeStep,orientation:\"vertical\",children:steps.map((step,index)=>/*#__PURE__*/_jsxs(Step,{children:[/*#__PURE__*/_jsx(StepLabel,{children:step.label}),/*#__PURE__*/_jsx(StepContent,{children:/*#__PURE__*/_jsx(Typography,{children:step.description})})]},step.label))})]})})})]});}export default RaffleEngine;","map":{"version":3,"names":["React","useState","useEffect","Container","Grid","Paper","Typography","Button","Box","CircularProgress","Alert","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Dialog","DialogTitle","DialogContent","DialogActions","Chip","Tooltip","IconButton","Stepper","Step","StepLabel","StepContent","Divider","Menu","MenuItem","ListItemIcon","ListItemText","TextField","styled","Confetti","InfoIcon","CheckCircleIcon","CancelIcon","EmojiEventsIcon","LocalShippingIcon","MoreVertIcon","EditIcon","AccessTimeIcon","DeleteIcon","jsx","_jsx","jsxs","_jsxs","StyledPaper","_ref","theme","padding","spacing","marginTop","borderRadius","boxShadow","WinnerDialog","_ref2","maxWidth","EligibilityChip","_ref3","eligible","backgroundColor","palette","success","main","error","color","steps","label","description","ActionButton","_ref4","minWidth","PrizeImage","width","height","objectFit","marginRight","PrizeCell","display","alignItems","RaffleEngine","prizes","setPrizes","loading","setLoading","setError","selectedPrize","setSelectedPrize","winner","setWinner","showConfetti","setShowConfetti","openDialog","setOpenDialog","showEligibilityInfo","setShowEligibilityInfo","activeStep","setActiveStep","drawingWinner","setDrawingWinner","anchorEl","setAnchorEl","selectedPrizeForMenu","setSelectedPrizeForMenu","editMode","setEditMode","editingPrize","setEditingPrize","fetchPrizes","response","fetch","data","json","handleDrawWinner","prize","Promise","resolve","setTimeout","concat","id","method","message","handleCloseDialog","getEligibilityStatus","reason","status","handleMenuClick","event","currentTarget","handleMenuClose","handleStatusChange","newStatus","headers","body","JSON","stringify","_objectSpread","map","p","handleShippingUpdate","shipped","handleEditClick","handleEditSubmit","sx","py","children","justifyContent","minHeight","mb","variant","component","title","onClick","severity","onClose","eligibility","src","image","alt","retailPrice","size","icon","gap","disabled","startIcon","e","open","Boolean","fontSize","autoFocus","margin","type","fullWidth","value","onChange","target","bulkCost","mt","gutterBottom","my","email","Date","enrolledOn","toLocaleDateString","paragraph","align","orientation","step","index"],"sources":["C:/Users/Gayathri/Desktop/thetop/frontend/src/components/RaffleEngine.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  CircularProgress,\r\n  Alert,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Chip,\r\n  Tooltip,\r\n  IconButton,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  StepContent,\r\n  Divider,\r\n  Menu,\r\n  MenuItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport Confetti from \"react-confetti\";\r\nimport InfoIcon from \"@mui/icons-material/Info\";\r\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\r\nimport CancelIcon from \"@mui/icons-material/Cancel\";\r\nimport EmojiEventsIcon from \"@mui/icons-material/EmojiEvents\";\r\nimport LocalShippingIcon from \"@mui/icons-material/LocalShipping\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\n\r\nconst StyledPaper = styled(Paper)(({ theme }) => ({\r\n  padding: theme.spacing(4),\r\n  marginTop: theme.spacing(4),\r\n  borderRadius: 8,\r\n  boxShadow: \"0 4px 6px rgba(0, 0, 0, 0.1)\",\r\n}));\r\n\r\nconst WinnerDialog = styled(Dialog)(({ theme }) => ({\r\n  \"& .MuiDialog-paper\": {\r\n    borderRadius: 8,\r\n    padding: theme.spacing(2),\r\n    maxWidth: 600,\r\n  },\r\n}));\r\n\r\nconst EligibilityChip = styled(Chip)(({ theme, eligible }) => ({\r\n  backgroundColor: eligible\r\n    ? theme.palette.success.main\r\n    : theme.palette.error.main,\r\n  color: \"white\",\r\n}));\r\n\r\nconst steps = [\r\n  {\r\n    label: \"Check Eligibility\",\r\n    description: \"Verifying user eligibility and prize status\",\r\n  },\r\n  {\r\n    label: \"Select Winner\",\r\n    description: \"Randomly selecting a winner from eligible users\",\r\n  },\r\n  {\r\n    label: \"Update Prize Status\",\r\n    description: \"Updating prize status and winner information\",\r\n  },\r\n];\r\n\r\nconst ActionButton = styled(Button)(({ theme }) => ({\r\n  minWidth: \"120px\",\r\n}));\r\n\r\nconst PrizeImage = styled(\"img\")({\r\n  width: 60,\r\n  height: 60,\r\n  objectFit: \"cover\",\r\n  borderRadius: 4,\r\n  marginRight: 16,\r\n});\r\n\r\nconst PrizeCell = styled(TableCell)({\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  padding: \"8px 16px\",\r\n});\r\n\r\nfunction RaffleEngine() {\r\n  const [prizes, setPrizes] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedPrize, setSelectedPrize] = useState(null);\r\n  const [winner, setWinner] = useState(null);\r\n  const [showConfetti, setShowConfetti] = useState(false);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [showEligibilityInfo, setShowEligibilityInfo] = useState(false);\r\n  const [activeStep, setActiveStep] = useState(-1);\r\n  const [drawingWinner, setDrawingWinner] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [selectedPrizeForMenu, setSelectedPrizeForMenu] = useState(null);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [editingPrize, setEditingPrize] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchPrizes();\r\n  }, []);\r\n\r\n  const fetchPrizes = async () => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/prizes\");\r\n      const data = await response.json();\r\n      setPrizes(data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setError(\"Failed to fetch prizes\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDrawWinner = async (prize) => {\r\n    setSelectedPrize(prize);\r\n    setDrawingWinner(true);\r\n    setActiveStep(0);\r\n    setError(null);\r\n\r\n    try {\r\n      // Step 1: Check Eligibility\r\n      await new Promise((resolve) => setTimeout(resolve, 1000));\r\n      setActiveStep(1);\r\n\r\n      // Step 2: Select Winner\r\n      const response = await fetch(\r\n        `http://localhost:5000/api/raffle/draw/${prize.id}`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      );\r\n      const data = await response.json();\r\n\r\n      if (data.message === \"No eligible users for raffle\") {\r\n        setError(\"No eligible users found for this raffle\");\r\n        setDrawingWinner(false);\r\n        setActiveStep(-1);\r\n        return;\r\n      }\r\n\r\n      await new Promise((resolve) => setTimeout(resolve, 1000));\r\n      setActiveStep(2);\r\n\r\n      // Step 3: Update Status\r\n      setWinner(data.winner);\r\n      setShowConfetti(true);\r\n      setOpenDialog(true);\r\n      setTimeout(() => setShowConfetti(false), 5000);\r\n      fetchPrizes(); // Refresh prize list\r\n    } catch (error) {\r\n      setError(\"Failed to draw winner\");\r\n    }\r\n\r\n    setDrawingWinner(false);\r\n    setActiveStep(-1);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setOpenDialog(false);\r\n    setWinner(null);\r\n  };\r\n\r\n  const getEligibilityStatus = (prize) => {\r\n    if (prize.winner)\r\n      return { eligible: false, reason: \"Winner already drawn\" };\r\n    if (prize.status !== \"active\")\r\n      return { eligible: false, reason: \"Prize not active\" };\r\n    return { eligible: true, reason: \"Eligible for raffle\" };\r\n  };\r\n\r\n  const handleMenuClick = (event, prize) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setSelectedPrizeForMenu(prize);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    setSelectedPrizeForMenu(null);\r\n  };\r\n\r\n  const handleStatusChange = async (newStatus) => {\r\n    try {\r\n      const response = await fetch(\r\n        `http://localhost:5000/api/prizes/${selectedPrizeForMenu.id}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({ ...selectedPrizeForMenu, status: newStatus }),\r\n        }\r\n      );\r\n      const data = await response.json();\r\n      setPrizes(prizes.map((p) => (p.id === data.id ? data : p)));\r\n      handleMenuClose();\r\n    } catch (error) {\r\n      setError(\"Failed to update prize status\");\r\n    }\r\n  };\r\n\r\n  const handleShippingUpdate = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `http://localhost:5000/api/prizes/${selectedPrizeForMenu.id}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            ...selectedPrizeForMenu,\r\n            shipped: !selectedPrizeForMenu.shipped,\r\n          }),\r\n        }\r\n      );\r\n      const data = await response.json();\r\n      setPrizes(prizes.map((p) => (p.id === data.id ? data : p)));\r\n      handleMenuClose();\r\n    } catch (error) {\r\n      setError(\"Failed to update shipping status\");\r\n    }\r\n  };\r\n\r\n  const handleEditClick = (prize) => {\r\n    setEditingPrize(prize);\r\n    setEditMode(true);\r\n    handleMenuClose();\r\n  };\r\n\r\n  const handleEditSubmit = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `http://localhost:5000/api/prizes/${editingPrize.id}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(editingPrize),\r\n        }\r\n      );\r\n      const data = await response.json();\r\n      setPrizes(prizes.map((p) => (p.id === data.id ? data : p)));\r\n      setEditMode(false);\r\n      setEditingPrize(null);\r\n    } catch (error) {\r\n      setError(\"Failed to update prize\");\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n        <Box\r\n          display=\"flex\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n          minHeight=\"60vh\"\r\n        >\r\n          <CircularProgress />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      {showConfetti && <Confetti />}\r\n\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          mb: 4,\r\n        }}\r\n      >\r\n        <Typography variant=\"h4\" component=\"h1\">\r\n          Raffle Engine\r\n        </Typography>\r\n        <Tooltip title=\"Eligibility Requirements\">\r\n          <IconButton onClick={() => setShowEligibilityInfo(true)}>\r\n            <InfoIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Box>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 4 }} onClose={() => setError(null)}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      <Alert severity=\"info\" sx={{ mb: 4 }}>\r\n        To be eligible for raffles, users must:\r\n        <ul>\r\n          <li>Be enrolled in partner platforms for at least 45 days</li>\r\n          <li>Not have opted out of partner platforms</li>\r\n          <li>Have an active enrollment status</li>\r\n        </ul>\r\n      </Alert>\r\n\r\n      <StyledPaper>\r\n        <TableContainer>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Prize</TableCell>\r\n                <TableCell>Status</TableCell>\r\n                <TableCell>Winner</TableCell>\r\n                <TableCell>Fulfillment</TableCell>\r\n                <TableCell>Eligibility</TableCell>\r\n                <TableCell>Actions</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {prizes.map((prize) => {\r\n                const eligibility = getEligibilityStatus(prize);\r\n                return (\r\n                  <TableRow key={prize.id}>\r\n                    <PrizeCell>\r\n                      <PrizeImage src={prize.image} alt={prize.title} />\r\n                      <Box>\r\n                        <Typography variant=\"subtitle2\">\r\n                          {prize.title}\r\n                        </Typography>\r\n                        <Typography variant=\"caption\" color=\"text.secondary\">\r\n                          ${prize.retailPrice} Retail\r\n                        </Typography>\r\n                      </Box>\r\n                    </PrizeCell>\r\n                    <TableCell>\r\n                      <Chip\r\n                        label={prize.status}\r\n                        color={\r\n                          prize.status === \"active\"\r\n                            ? \"success\"\r\n                            : prize.status === \"upcoming\"\r\n                            ? \"warning\"\r\n                            : \"default\"\r\n                        }\r\n                        size=\"small\"\r\n                      />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {prize.winner ? (\r\n                        <Chip\r\n                          icon={<EmojiEventsIcon />}\r\n                          label={prize.winner}\r\n                          color=\"secondary\"\r\n                          size=\"small\"\r\n                        />\r\n                      ) : (\r\n                        \"Pending\"\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Chip\r\n                        icon={\r\n                          prize.shipped ? <CheckCircleIcon /> : <CancelIcon />\r\n                        }\r\n                        label={prize.shipped ? \"Shipped\" : \"Pending\"}\r\n                        color={prize.shipped ? \"success\" : \"default\"}\r\n                        size=\"small\"\r\n                      />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <EligibilityChip\r\n                        label={eligibility.reason}\r\n                        eligible={eligibility.eligible}\r\n                        size=\"small\"\r\n                      />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Box sx={{ display: \"flex\", gap: 1 }}>\r\n                        <ActionButton\r\n                          variant=\"contained\"\r\n                          color=\"secondary\"\r\n                          onClick={() => handleDrawWinner(prize)}\r\n                          disabled={!eligibility.eligible || drawingWinner}\r\n                          startIcon={\r\n                            drawingWinner && selectedPrize?.id === prize.id ? (\r\n                              <CircularProgress size={20} color=\"inherit\" />\r\n                            ) : null\r\n                          }\r\n                        >\r\n                          {drawingWinner && selectedPrize?.id === prize.id\r\n                            ? \"Drawing...\"\r\n                            : \"Draw Winner\"}\r\n                        </ActionButton>\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={(e) => handleMenuClick(e, prize)}\r\n                        >\r\n                          <MoreVertIcon />\r\n                        </IconButton>\r\n                      </Box>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </StyledPaper>\r\n\r\n      {/* Prize Actions Menu */}\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleMenuClose}\r\n      >\r\n        <MenuItem onClick={() => handleEditClick(selectedPrizeForMenu)}>\r\n          <ListItemIcon>\r\n            <EditIcon fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText>Edit Prize</ListItemText>\r\n        </MenuItem>\r\n        <MenuItem onClick={() => handleStatusChange(\"active\")}>\r\n          <ListItemIcon>\r\n            <CheckCircleIcon fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText>Set Active</ListItemText>\r\n        </MenuItem>\r\n        <MenuItem onClick={() => handleStatusChange(\"upcoming\")}>\r\n          <ListItemIcon>\r\n            <AccessTimeIcon fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText>Set Upcoming</ListItemText>\r\n        </MenuItem>\r\n        <MenuItem onClick={() => handleStatusChange(\"completed\")}>\r\n          <ListItemIcon>\r\n            <EmojiEventsIcon fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText>Set Completed</ListItemText>\r\n        </MenuItem>\r\n        {selectedPrizeForMenu?.winner && (\r\n          <MenuItem onClick={handleShippingUpdate}>\r\n            <ListItemIcon>\r\n              <LocalShippingIcon fontSize=\"small\" />\r\n            </ListItemIcon>\r\n            <ListItemText>\r\n              {selectedPrizeForMenu.shipped\r\n                ? \"Mark as Pending\"\r\n                : \"Mark as Shipped\"}\r\n            </ListItemText>\r\n          </MenuItem>\r\n        )}\r\n      </Menu>\r\n\r\n      {/* Edit Prize Dialog */}\r\n      <Dialog open={editMode} onClose={() => setEditMode(false)}>\r\n        <DialogTitle>Edit Prize</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            label=\"Prize Title\"\r\n            type=\"text\"\r\n            fullWidth\r\n            value={editingPrize?.title || \"\"}\r\n            onChange={(e) =>\r\n              setEditingPrize({ ...editingPrize, title: e.target.value })\r\n            }\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            label=\"Retail Price\"\r\n            type=\"number\"\r\n            fullWidth\r\n            value={editingPrize?.retailPrice || \"\"}\r\n            onChange={(e) =>\r\n              setEditingPrize({ ...editingPrize, retailPrice: e.target.value })\r\n            }\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            label=\"Bulk Cost\"\r\n            type=\"number\"\r\n            fullWidth\r\n            value={editingPrize?.bulkCost || \"\"}\r\n            onChange={(e) =>\r\n              setEditingPrize({ ...editingPrize, bulkCost: e.target.value })\r\n            }\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            label=\"Image URL\"\r\n            type=\"text\"\r\n            fullWidth\r\n            value={editingPrize?.image || \"\"}\r\n            onChange={(e) =>\r\n              setEditingPrize({ ...editingPrize, image: e.target.value })\r\n            }\r\n          />\r\n          <Box sx={{ mt: 2 }}>\r\n            <Typography variant=\"subtitle2\" gutterBottom>\r\n              Status\r\n            </Typography>\r\n            <Box sx={{ display: \"flex\", gap: 1 }}>\r\n              <Button\r\n                variant={\r\n                  editingPrize?.status === \"active\" ? \"contained\" : \"outlined\"\r\n                }\r\n                size=\"small\"\r\n                onClick={() =>\r\n                  setEditingPrize({ ...editingPrize, status: \"active\" })\r\n                }\r\n              >\r\n                Active\r\n              </Button>\r\n              <Button\r\n                variant={\r\n                  editingPrize?.status === \"upcoming\" ? \"contained\" : \"outlined\"\r\n                }\r\n                size=\"small\"\r\n                onClick={() =>\r\n                  setEditingPrize({ ...editingPrize, status: \"upcoming\" })\r\n                }\r\n              >\r\n                Upcoming\r\n              </Button>\r\n              <Button\r\n                variant={\r\n                  editingPrize?.status === \"completed\"\r\n                    ? \"contained\"\r\n                    : \"outlined\"\r\n                }\r\n                size=\"small\"\r\n                onClick={() =>\r\n                  setEditingPrize({ ...editingPrize, status: \"completed\" })\r\n                }\r\n              >\r\n                Completed\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setEditMode(false)}>Cancel</Button>\r\n          <Button onClick={handleEditSubmit} color=\"secondary\">\r\n            Save Changes\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <WinnerDialog open={openDialog} onClose={handleCloseDialog}>\r\n        <DialogTitle>\r\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n            <EmojiEventsIcon color=\"secondary\" />\r\n            <Typography variant=\"h5\">Winner Drawn!</Typography>\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{ mb: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Prize Details\r\n            </Typography>\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              {selectedPrize?.title}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Retail Value: ${selectedPrize?.retailPrice}\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Divider sx={{ my: 2 }} />\r\n\r\n          <Box sx={{ mb: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Winner Information\r\n            </Typography>\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              {winner?.email}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Enrolled on: {new Date(winner?.enrolledOn).toLocaleDateString()}\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Alert severity=\"info\" sx={{ mt: 2 }}>\r\n            The winner will be notified via email. Please ensure the prize is\r\n            shipped within 7 business days.\r\n          </Alert>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDialog} color=\"secondary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </WinnerDialog>\r\n\r\n      <Dialog\r\n        open={showEligibilityInfo}\r\n        onClose={() => setShowEligibilityInfo(false)}\r\n      >\r\n        <DialogTitle>Raffle Eligibility Requirements</DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"body1\" paragraph>\r\n            To participate in raffles, users must meet the following criteria:\r\n          </Typography>\r\n          <ul>\r\n            <li>Must be enrolled in partner platforms for at least 45 days</li>\r\n            <li>Must not have opted out of partner platforms</li>\r\n            <li>Must have an active enrollment status</li>\r\n            <li>Prize must be in \"active\" status</li>\r\n            <li>No previous winner for the prize</li>\r\n          </ul>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 2 }}>\r\n            Note: The system automatically checks eligibility before drawing\r\n            winners.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => setShowEligibilityInfo(false)}\r\n            color=\"secondary\"\r\n          >\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {drawingWinner && (\r\n        <Dialog open={drawingWinner} maxWidth=\"sm\" fullWidth>\r\n          <DialogContent>\r\n            <Box sx={{ p: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom align=\"center\">\r\n                Drawing Winner\r\n              </Typography>\r\n              <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n                {steps.map((step, index) => (\r\n                  <Step key={step.label}>\r\n                    <StepLabel>{step.label}</StepLabel>\r\n                    <StepContent>\r\n                      <Typography>{step.description}</Typography>\r\n                    </StepContent>\r\n                  </Step>\r\n                ))}\r\n              </Stepper>\r\n            </Box>\r\n          </DialogContent>\r\n        </Dialog>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default RaffleEngine;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}